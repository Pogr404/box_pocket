/* ==========================================================================
   1. ГЛАВНЫЕ НАСТРОЙКИ (ЦВЕТА И ШРИФТЫ)
   ========================================================================== */
:root {
    /* --- Светлая тема (по умолчанию) --- */
    --primary-bg: #ffffff;
    --secondary-bg: rgba(249, 249, 249, 0.85); /* Полупрозрачный фон для секций */
    --text-color: #4a4a4a;                     /* Основной цвет текста */
    --heading-color: #2c2c2c;                  /* Цвет заголовков */
    --border-color: #eee;                      /* Цвет рамок */
    --accent-color: #a07d5a;                   /* Фирменный цвет (кнопки, ссылки) */

    /* --- Шрифты --- */
    --primary-font: 'Montserrat', sans-serif;  /* Шрифт для обычного текста */
    --heading-font: 'Oswald', sans-serif;      /* Шрифт для заголовков */
    
    /* --- Дизайн --- */
    --main-border-radius: 15px;                /* <-- ГЛАВНЫЙ ПАРАМЕТР СКРУГЛЕНИЯ */
}

/* --- Темная тема --- */
body.dark-mode {
    --primary-bg: #1a1a1a;
    --secondary-bg: rgba(37, 37, 37, 0.85);
    --text-color: #ccc;
    --heading-color: #f5f5f5;
    --border-color: #444;
}

/* --- Стеклянная тема --- */
body.glass-mode {
    --primary-bg: #eaf2f8; 
    --glass-bg: rgba(255, 255, 255, 0.2); 
    --glass-border: rgba(255, 255, 255, 0.3);
    --text-color: #2c3e50;
    --heading-color: #1a252f;
}

/* ==========================================================================
   2. БАЗОВЫЕ СТИЛИ И "СКЕЛЕТ" САЙТА
   ========================================================================== */
* { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
}
html { 
    scroll-behavior: smooth; /* Плавная прокрутка по ссылкам */
}
body { 
    font-family: var(--primary-font); 
    background-color: var(--primary-bg);
    color: var(--text-color);
    line-height: 1.7; /* <-- Межстрочный интервал */
    transition: background-color 0.3s, color 0.3s;
}
#bg-canvas { 
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%; 
    z-index: -1; 
    opacity: 0.3; /* <-- Заметность 3D-фона (от 0.1 до 1) */
    mix-blend-mode: difference; 
}
html, body, a, button, input, textarea { 
    cursor: url('../images/box.png'), auto; /* <-- Курсор по умолчанию (закрытая коробка) */
}
a, button { 
    cursor: url('../images/box2.png'), auto; /* <-- Курсор для кнопок и ссылок (открытая коробка) */
}
.container { 
    max-width: 1200px; /* <-- Максимальная ширина контента сайта */
    margin: 0 auto; 
    padding: 0 20px; 
}
h1, h2 { 
    font-family: var(--heading-font); 
    color: var(--heading-color); 
    text-align: center; 
    margin-bottom: 40px; /* <-- Отступ под заголовками */
}
h2 { 
    font-size: 2.5rem; /* <-- Размер заголовков секций ("Наша Коллекция" и т.д.) */
}
section {
    padding-top: 60px;      /* Оставляем только верхний отступ */
    padding-bottom: 60px;   /* Оставляем только нижний отступ */
    margin-bottom: 25px;
    border-radius: var(--main-border-radius);
    transition: background 0.3s, border 0.3s;
}
a { 
    color: var(--accent-color); 
    text-decoration: none; 
}

/* ==========================================================================
   3. ШАПКА САЙТА (HEADER)
   ========================================================================== */
header { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 20px; 
    margin-bottom: 25px;
    border-radius: var(--main-border-radius);
    
    /* Свойства для "прилипания" */
    position: sticky;
    top: 15px;
    z-index: 1000;
    
    /* Плавные переходы для всех состояний */
    transition: all 0.4s ease-in-out;
}

.header-right { 
    display: flex; 
    align-items: center; 
    gap: 20px;   
    /* Плавный переход для исчезновения */
    transition: all 0.4s ease-in-out;
}

.header-left { 
    text-align: left; 
}

.contacts-header { 
    text-align: right; 
    margin-top: 0; 
}

header .logo { 
    font-size: 2.5rem; 
    color: var(--heading-color); 
    font-family: 'Oswald', sans-serif ;
}

header .slogan { 
    font-size: 1rem;
    color: #999; 
    margin-top: 5px; 
    /* Плавный переход для исчезновения */
    transition: all 0.4s ease-in-out;
}

header .contacts-header a { 
    color: var(--text-color); 
    margin: 0 5px; 
}

#theme-toggle { 
    background: none; 
    border: 1px solid var(--border-color); 
    border-radius: 50%; 
    width: 40px; 
    height: 40px; 
    padding: 5px; 
    display: flex; 
    align-items: center; 
    justify-content: center;
}

#theme-toggle svg { 
    width: 100%; 
    height: 100%; 
    stroke: var(--text-color); 
}

.sun-icon, .moon-icon, .glass-icon { 
    display: none; 
}

body:not(.dark-mode):not(.glass-mode) .sun-icon { 
    display: block; 
}

.dark-mode .moon-icon { 
    display: block; 
}

.glass-mode .glass-icon { 
    display: block; 
}
/* ==========================================================================
   4. ГЛАВНЫЙ ЭКРАН (HERO)
   ========================================================================== */
.hero { 
    min-height: 80vh; /* <-- Высота главного экрана (в % от высоты окна) */
    display: flex; 
    align-items: center; 
    justify-content: center; 
    text-align: center; 
    color: white; 
    position: relative; 
    overflow: hidden; 
    padding: 60px 20px; 
    margin-bottom: 25px;
    border-radius: var(--main-border-radius);
}
.hero-background { 
    position: absolute; 
    top: 0; left: 0; right: 0; bottom: 0; 
    z-index: 1; 
    background-image: inherit; 
    background-size: cover; 
    background-position: center; 
    filter: blur(8px) brightness(0.7); /* <-- Поменяйте 8px, чтобы изменить размытие */
    transition: transform 0.2s ease-out; 
    border-radius: inherit; 
}
.hero-content { 
    position: relative; 
    z-index: 2; 
    max-width: 900px; 
}
.hero h1 { 
    font-size: 5.5rem; /* <-- Размер главного заголовка на ПК */
    color: white; 
    margin-bottom: 20px; 
    text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5); 
    line-height: 1.2; 
}
.cta-button { 
    display: inline-block; 
    padding-top: 12px; /* <-- Верхний отступ кнопки */
    padding-bottom: 12px; /* <-- Нижний отступ кнопки */
    padding-left: 25px; /* <-- Боковой отступ кнопки */
    padding-right: 25px; /* <-- Боковой отступ кнопки */
    font-size: 0.9rem; /* <-- Размер текста на кнопке */
    letter-spacing: 0.5px; 
    background-color: var(--accent-color); 
    color: white; 
    border-radius: 5px; 
    text-transform: uppercase; 
    font-weight: 500; 
    transition: background-color 0.3s ease; 
    text-decoration: none; 
}
.cta-button:hover { background-color: #3d3b3b; color: white; }
#gyro-permission-button { display: none; margin-top: 20px; background-color: #444; }
#gyro-permission-button:hover { background-color: #222; }

/* ==========================================================================
   5. СТИЛИ ТЕМ ДЛЯ БЛОКОВ
   ========================================================================== */
/* --- Светлая и темная тема --- */
/* Фон есть только у шапки и секции контактов */
body:not(.glass-mode) header,
body:not(.glass-mode) .contact-section {
    background-color: var(--secondary-bg);
    border-radius: var(--main-border-radius);
}

/* У карточек товаров и 3D-модели свой фон */
body:not(.glass-mode) .gallery-item {
    background-color: var(--secondary-bg);
    border-radius: var(--main-border-radius);
}
body:not(.glass-mode) .model-section model-viewer {
    background-color: var(--secondary-bg);
}

/* --- Стеклянная тема --- */
/* Эффект стекла только у шапки и секции контактов */
.glass-mode header,
.glass-mode .contact-section {
    background: var(--glass-bg);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid var(--glass-border);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border-radius: var(--main-border-radius);
}

/* У карточек товаров и 3D-модели свой эффект стекла */
.glass-mode .gallery-item,
.glass-mode .model-section model-viewer {
     background: var(--glass-bg);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid var(--glass-border);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border-radius: var(--main-border-radius);
}

.glass-mode h2, .glass-mode p, .glass-mode .item-info h3 {
    text-shadow: 0px 1px 3px rgba(0,0,0,0.1);
}
.glass-mode #contact-form input, .glass-mode #contact-form textarea {
     background: var(--glass-bg);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid var(--glass-border);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border-radius: var(--main-border-radius);
}
.glass-mode #contact-form input::placeholder, .glass-mode #contact-form textarea::placeholder {
    color: var(--heading-color);
    opacity: 0.7;
}

/* ==========================================================================
   ИСПРАВЛЕНИЕ ЧИТАЕМОСТИ ВСПЛЫВАЮЩЕГО ОКНА В GLASS-РЕЖИМЕ
   ========================================================================== */

.glass-mode .modal-content {
    /* Основные стили стекла */
    background: rgba(255, 255, 255, 0.1); /* Делаем стекло чуть менее прозрачным */
    backdrop-filter: blur(20px); /* Увеличиваем размытие для лучшего эффекта */
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    
    /* ХИТРОСТЬ: Добавляем внутреннюю тень, которая работает как подложка под текст */
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2), 
                inset 0 0 100px 50px rgba(0, 0, 0, 0.1);
}


/* Добавляем тень к тексту ТОЛЬКО внутри модального окна в glass-режиме */
.glass-mode .modal-details h2,
.glass-mode .modal-details p,
.glass-mode .modal-details h3,
.glass-mode .modal-details li {
   /*xt-shadow: 0px 1px 4px rgba(0, 0, 0, 0.5); /* Более заметная тень для текста */
    color: white;

}

/* ==========================================================================
   6. ГАЛЕРЕЯ ТОВАРОВ И МОДАЛЬНОЕ ОКНО
   ========================================================================== */
.gallery-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); 
    gap: 40px; /* <-- Расстояние между карточками товаров */
}
.gallery-item { 
    box-shadow: 0 4px 15px rgba(0,0,0,0.05); 
    overflow: hidden; 
    transition: all 0.3s ease; 
    cursor: pointer; 
}
.gallery-item:hover { 
    transform: translateY(-10px); /* <-- Насколько карточка "приподнимается" при наведении */
    box-shadow: 0 10px 25px rgba(0,0,0,0.1); 
}
.gallery-item img { 
    width: 100%; 
    height: 250px; /* <-- Высота картинки товара */
    object-fit: cover; 
    display: block; 
}
.item-info { 
    padding: 25px; /* <-- Внутренний отступ у текста в карточке */
    text-align: center; 
}
.item-info h3 { 
    font-size: 1.5rem; /* <-- Размер названия товара */
    color: var(--heading-color); 
    margin-bottom: 0; 
}
.item-info p { 
    display: none; 
}
.modal-container { 
    position: fixed; 
    top: 0; left: 0; width: 100%; height: 100%; 
    background-color: rgba(0, 0, 0, 0.8); /* <-- Затемнение фона для окна */
    display: flex; align-items: center; justify-content: center; 
    z-index: 10000; 
    opacity: 0; 
    visibility: hidden; 
    transition: opacity 0.4s ease, visibility 0.4s ease; 
}
.modal-container.visible { opacity: 1; visibility: visible; }
.modal-content { 
    background-color: var(--primary-bg); 
    padding: 30px; 
    border-radius: 15px; 
    width: 90%; 
    max-width: 900px; /* <-- Максимальная ширина всплывающего окна */
    max-height: 90vh; /* <-- Максимальная высота */
    overflow-y: auto; 
    position: relative; 
    transform: scale(0.9); 
    transition: transform 0.4s ease; 
}
/* --- СТИЛИ ТЕМ ДЛЯ МОДАЛЬНОГО ОКНА --- */

/* Для светлой и темной тем делаем фон полупрозрачным */
body:not(.glass-mode) .modal-content {
    background-color: var(--secondary-bg);
}

/* Для стеклянной темы добавляем эффект стекла */
.glass-mode .modal-content {
      background: var(--glass-bg);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid var(--glass-border);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border-radius: var(--main-border-radius);
}
.modal-container.visible .modal-content { transform: scale(1); }
.modal-body { display: flex; gap: 30px; }
.modal-gallery { flex: 1; min-width: 0; }
.modal-main-image { 
    width: 100%; 
    height: 400px; /* <-- Высота главного фото в окне */
    object-fit: cover; 
    border-radius: 10px; 
    margin-bottom: 15px; 
}
.modal-thumbnails { display: flex; gap: 10px; flex-wrap: wrap; }
.modal-thumbnails img { 
    width: 80px; /* <-- Размер маленьких фото-превью */
    height: 80px; 
    object-fit: cover; 
    border-radius: 5px; 
    cursor: pointer; 
    opacity: 0.6; 
    transition: opacity 0.2s; 
}
.modal-thumbnails img.active, 
.modal-thumbnails img:hover { opacity: 1; }
.modal-details { flex: 1; }
.modal-details h2 { 
    text-align: left; 
    margin-bottom: 15px; 
    font-size: 2.2rem; /* <-- Размер заголовка в окне */
}
.modal-details p { margin-bottom: 30px; }
.modal-characteristics h3 { margin-bottom: 10px; font-family: var(--heading-font); color: var(--heading-color); }
.modal-characteristics ul { list-style: none; padding: 0; }
.modal-characteristics li { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid var(--border-color); }
.modal-characteristics li strong { margin-right: 15px; }
.modal-close { position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 30px; color: var(--text-color); }

/* Стили для 3D-превью в галерее модального окна */
.thumb-3d {
    width: 80px;
    height: 80px;
    background-color: #eee;
    color: #333;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--heading-font);
    border-radius: 5px;
    cursor: pointer;
    opacity: 0.6;
    transition: opacity 0.2s;
}
.thumb-3d.active,
.thumb-3d:hover {
    opacity: 1;
}
/* Стили для 3D-модели в главном окне просмотра */
.modal-main-image {
    border: none; /* Убираем рамку, которая может остаться от <img> */
}

/* ==========================================================================
   7. О НАС, 3D-МОДЕЛЬ, КОНТАКТЫ
   ========================================================================== */
.about-section p {
    font-size: 1.1rem; /* <-- Размер текста в секции "О нас" */
}

.model-section h2,
.model-section p {
    text-align: center; /* <-- Выравнивание текста по центру */
}
.model-section p {
    margin-bottom: 30px; /* <-- Отступ под текстом */
}

/* Блок с адресом, телефоном и почтой над формой */
.contact-details {
    text-align: center; /* <-- ВЫРАВНИВАНИЕ ТЕКСТА ПО ЦЕНТРУ */
    margin-bottom: 40px; /* <-- Отступ под этим блоком */
    font-size: 1.1rem; /* <-- Размер шрифта */
}
.contact-details a {
    color: var(--text-color);
    text-decoration: none;
}
.contact-details a:hover {
    color: var(--accent-color);
}

/* Сама форма отправки */
#contact-form {
    max-width: 600px; /* <-- Максимальная ширина формы */
    margin: 0 auto; /* <-- Центрирование формы на странице */
    display: flex; /* <-- Включаем flex-выравнивание */
    flex-wrap: wrap; /* <-- Разрешаем перенос полей на новую строку */
    justify-content: center; /* <-- Центрируем все поля */
    gap: 15px; /* <-- Расстояние между полями */
}
#contact-form input,
#contact-form textarea {
    width: 100%; /* <-- Ширина текстового поля */
    padding: 15px; /* <-- Внутренний отступ в поле */
    border: 1px solid var(--border-color); /* <-- Рамка поля */
    border-radius: 5px; /* <-- Скругление углов поля */
    font-family: var(--primary-font);
    font-size: 1rem;
    background-color: var(--primary-bg);
    color: var(--text-color);
}
#contact-form textarea {
    min-height: 150px; /* <-- Минимальная высота поля для сообщения */
    resize: vertical;
}
#contact-form button {
    align-self: center;
    padding-top: 15px; /* <-- Верхний отступ кнопки "Отправить" */
    padding-bottom: 15px; /* <-- Нижний отступ */
    padding-left: 40px; /* <-- Боковой отступ */
    padding-right: 40px; /* <-- Боковой отступ */
    background-color: var(--accent-color);
    color: white;
    border: none;
    border-radius: 5px;
    text-transform: uppercase;
    font-weight: 500;
    letter-spacing: 1px;
    transition: background-color 0.3s ease;
    margin-top: 10px; /* <-- Отступ над кнопкой */
}
#contact-form button:hover {
    background-color: #8a6c4d;
}
#contact-form button:disabled {
    background-color: #ccc;
    cursor: not-allowed;
}

/* ==========================================================================
   8. ФУТЕР (НИЖНЯЯ ЧАСТЬ САЙТА)
   ========================================================================== */
footer {
    background-color: #2c2c2c; /* <-- Цвет фона футера */
    color: #ccc; /* <-- Цвет текста в футере */
    text-align: center;
    padding: 40px 20px;
}
.dark-mode footer {
    background-color: #111; /* <-- Цвет фона футера в темной теме */
}
.social-icons a {
    margin: 0 10px; /* <-- Расстояние между иконками соцсетей */
    color: white;
    font-size: 1.2rem; /* <-- Размер иконок-ссылок */
}
.social-icons a:hover {
    color: var(--accent-color);
}
#copyright-text {
    margin-bottom: 15px;
    font-size: 0.9rem;
}
.footer-contacts {
    display: none; /* <-- По умолчанию скрыто на ПК */
} 
.footer-contacts a {
    display: block;
    color: white;
    margin-bottom: 10px;
}


/* ==========================================================================
   9. СПЕЦЭФФЕКТЫ (УВЕДОМЛЕНИЯ, ЧАСТИЦЫ)
   ========================================================================== */
.notification {
    position: fixed; /* <-- Фиксирует уведомление на экране */
    top: 20px; /* <-- Отступ сверху */
    right: 20px; /* <-- Отступ справа */
    background-color: #2c2c2c;
    color: white;
    padding: 15px 25px;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    display: flex;
    align-items: center;
    z-index: 1000; /* <-- Поверх всех элементов */
    transform: translateX(120%);
    opacity: 0;
    visibility: hidden;
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
}
.notification.show {
    transform: translateX(0);
    opacity: 1;
    visibility: visible;
}
.notification .icon {
    width: 24px;
    height: 24px;
    margin-right: 15px;
}
.notification.success .icon {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%234caf50' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M22 11.08V12a10 10 0 1 1-5.93-9.14'%3E%3C/path%3E%3Cpolyline points='22 4 12 14.01 9 11.01'%3E%3C/polyline%3E%3C/svg%3E");
}
.notification.error .icon {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23f44336' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cline x1='15' y1='9' x2='9' y2='15'%3E%3C/line%3E%3Cline x1='9' y1='9' x2='15' y2='15'%3E%3C/line%3E%3C/svg%3E");
}

.particle-box {
    position: fixed;
    z-index: 9999;
    pointer-events: none; /* <-- Частицы не мешают нажимать на элементы под ними */
    width: 10px; /* <-- Ширина частицы-коробки */
    height: 10px; /* <-- Высота частицы-коробки */
    background-color: var(--accent-color);
    opacity: 0.8;
    border-radius: 2px;
    animation: fallAndFade 1.5s ease-out forwards;
}
@keyframes fallAndFade {
    0% {
        transform: translateY(0) scale(1) rotate(0deg);
        opacity: 0.8;
    }
    100% {
        transform: translateY(150px) scale(0.3) rotate(180deg); /* <-- Как далеко и как сильно частица падает и исчезает */
        opacity: 0;
    }
}

/* ==========================================================================
   10. АДАПТИВНОСТЬ (СТИЛИ ДЛЯ МОБИЛЬНЫХ ТЕЛЕФОНОВ)
   ========================================================================== */
@media (max-width: 768px) {
    /* --- Общие размеры --- */
    h2 { 
        font-size: 2rem; 
    }

    /* --- Шапка --- */
    header {
        flex-direction: row; /* Возвращаем в одну строку */
        justify-content: space-between; /* Элементы по краям */
        align-items: center;
        top: 10px;
        padding: 10px 15px; /* Делаем шапку компактной по умолчанию */
        transition: padding 0.3s ease-in-out; /* Плавный переход для ховера */
    }
    header:hover {
        padding-top: 20px; /* Слегка увеличиваем при наведении для интерактива */
        padding-bottom: 20px;
    }
    .header-left { 
        text-align: left;
    } 
    header .logo { 
        font-size: 1.8rem; /* Уменьшаем логотип в компактном виде */
    }
    /* Скрываем ненужные элементы на мобильных */
    header .slogan,
    header .contacts-header { 
        display: none; 
    }
    .header-right { 
        order: 2;
    }
    
    /* --- Остальные секции --- */
    .hero { 
        min-height: 60vh; 
        background-attachment: scroll; 
    }
    .hero h1 { 
        font-size: 3.5rem; 
    }
    .gallery-grid { 
        grid-template-columns: repeat(2, 1fr); 
        gap: 15px; 
    }
    .gallery-item .item-info { 
        padding: 15px; 
    }
    .gallery-item h3 { 
        font-size: 1.1rem; 
    }
    .footer-contacts { 
        display: block; 
        margin-bottom: 25px; 
        font-size: 1rem; 
    }
    .social-icons { 
        display: flex; 
        justify-content: center; 
        gap: 25px; 
    }
    .social-icons a { 
        margin: 0; 
    }
    .item-info p, .about-section p { 
        font-size: 1rem; 
    }
    
    /* --- Модальное окно --- */
    .modal-body { 
        flex-direction: column; 
    }
    .modal-main-image { 
        height: 250px; 
    }
}